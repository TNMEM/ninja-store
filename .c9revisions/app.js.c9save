{"ts":1374450152784,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"\n/**\n * Module dependencies.\n */\n\nvar express = require('express')\n  , http = require('http')\n  , path = require('path');\n\nvar store = require('./routes/store');\nvar app = express();\n\n// all environments\n\n//heroku, cloud9\napp.set('port', process.env.PORT);\napp.set('ipaddr', process.env.IP);\n\n//openshift\n//app.set('port', process.env.OPENSHIFT_NODEJS_PORT ||  process.env.OPENSHIFT_INTERNAL_PORT || 8080);\n//app.set('ipaddr', process.env.OPENSHIFT_NODEJS_IP || process.env.OPENSHIFT_INTERNAL_IP || '127.0.0.1');\n\napp.set('views', __dirname + '/views');\napp.set('view engine', 'jade');\napp.use(express.favicon());\n//app.use(express.logger('dev'));\napp.use(express.bodyParser());\napp.use(express.methodOverride());\napp.use(express.cookieParser('your secret here'));\napp.use(express.session());\napp.use(app.router);\napp.use(require('stylus').middleware(__dirname + '/public'));\napp.use(express.static(path.join(__dirname, 'public')));\n\n// development only\nif ('development' == app.get('env')) {\n  app.use(express.errorHandler());\n}\n\napp.get('/', store.home);\napp.post('/', store.home_post_handler);\n// display the list of items\napp.get('/items', store.items);\n// show individual item\napp.get('/item/:id', store.item);\n// show general pages\napp.get('/page', store.page);\napp.get('/logout', function(req, res) {\n    // delete the session variable\n    delete req.session.username;\n    // redirect user to homepage\n    res.redirect('/');\n});\n\nhttp.createServer(app).listen(app.get('port'), app.get('ipaddr'), function(){\n  console.log('Express server listening on ' + app.get('port') + ' on ' + app.get('ipaddr'));\n});\n"]],"start1":0,"start2":0,"length1":0,"length2":1613}]],"length":1613}
